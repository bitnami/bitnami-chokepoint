<script src="/bitnami-chokepoint/jsrender.js" type='text/javascript'></script>
<script src="/bitnami-chokepoint/jsviews.min.js" type='text/javascript'></script>

<link rel="stylesheet" type="text/css" href="/plugins/bitnami-chokepoint/chokePoint.css">

<script id="type" type="text/x-jsrender">
  <h4>What can we help you with?</h4>
  [[if currentPage > 2]]
  <select disabled tabindex="-1" style="display: block;" data-link="typeSelected">
  [[else]]
  <select tabindex="-1" style="display: block;" data-link="typeSelected">
  [[/if]]
    <option value="" disabled selected>Select a type…</option>
    [[for typeValues]]
      <option>[[:type]]</option>
    [[/for]]
  </select>
</script>

<script id="platform" type="text/x-jsrender">
  <h4 class="margin-t-big">What platform are you using?</h4>
  [[if currentPage > 2]]
  <select disabled tabindex="-1" style="display: block;" data-link="platformSelected">
  [[else]]
  <select tabindex="-1" style="display: block;" data-link="platformSelected">
  [[/if]]
    <option value="" disabled selected>Select a platform…</option>
    [[for platformValues]]
      [[if subplatforms]]
        <optgroup label="[[:platform]]">
          [[for subplatforms]]
            <option>[[:subplatform]]</option>
          [[/for]]
        </optgroup>
      [[else]]
        <option>[[:platform]]</option>
      [[/if]]
    [[/for]]
  </select>
</script>

<script id="application" type="text/x-jsrender">
  <h4 class="margin-t-big">What application are you using?</h4>
  [[if currentPage > 2]]
  <select disabled tabindex="-1" style="display: block;" data-link="applicationSelected">
    <option value="General">General</option>
    [[for applicationValues]]
      <option value="[[:application]]">[[:application]]</option>
    [[/for]]
  </select>
  [[else]]
    [^[if browser != 'Apple Computer, Inc.']]
      <input placeholder="Type the application name..." list="applications" data-link="applicationSelected">
      <datalist id="applications">
        <option value="General">General</option>
        [[for applicationValues]]
          <option value="[[:application]]">[[:application]]</option>
        [[/for]]
      </datalist>
    [[else]]
      <select tabindex="-1" style="display: block;" data-link="applicationSelected">
        <option value="" disabled selected>Type the application name...</option>
        <option value="General">General</option>
        [[for applicationValues]]
          <option value="[[:application]]">[[:application]]</option>
        [[/for]]
      </select>
    [[/if]]
  [[/if]]
</script>

<script id="topic" type="text/x-jsrender">
  <h4 class="margin-t-big">What is your case related to?</h4>
  [[if currentPage > 2]]
  <select disabled tabindex="-1" style="display: block;" data-link="topicSelected">
  [[else]]
  <select tabindex="-1" style="display: block;" data-link="~root.topicSelected">
  [[/if]]
    <option value="" disabled selected>Select a topic…</option>
    [[for ~root.topicValues]]
      <option>[[:topic]]</option>
    [[/for]]
    <option>Other</option>
  </select>
</script>

<script id="title" type="text/x-jsrender">
  <h4>Title</h4>
  <textarea class="title" placeholder="Summarize your [[if typeSelected == 'Technical issue' || typeSelected == 'Bitnami Support Tool']]issue[[else typeSelected == 'How to']]question[[else typeSelected == 'Suggestion']]suggestion[[/if]] in less than 120 characters" maxlength="120" data-link="titleFilled"></textarea>
</script>

<script id="bndiagnostic-feedback" type="text/x-jsrender">
  <div>
    <h4>Bitnami Diagnostic Tool Feedback</h4>
    <p class="bndiagnostic">Please let us know why the information the tool provided was not useful</p>
    <select tabindex="-1" style="display: block;" data-link="bndiagnosticReasonSelected">
      <option value="" disabled selected>Select a reason…</option>
      [[for bndiagnosticReasonsValues]]
        <option>[[:bndiagnosticReason]]</option>
      [[/for]]
    </select>
    [^[if bndiagnosticReasonSelected]]
      [^[if bndiagnosticReasonSelected == 'Other']]
        <textarea required class="bndiagnostic_feedback" placeholder="Include useful information for us to improve the diagnostic tool and help users in the future" data-link="bndiagnosticReasonFilled"></textarea>
      [[/if]]
    [[/if]]
  </div>
</script>

<script id="bndiagnostic" type="text/x-jsrender">
  <div>
    <h4>Bitnami Diagnostic Tool</h4>
    <p class="bndiagnostic">The Bitnami Diagnostic Tool is a self-service command line tool that evaluates your configuration files and logs looking for errors and provides you with useful information to fix them.</p>
    <p class="bndiagnostic">Did you review this information?</p>
    <div class="bndiagnostic__results">
    </div>
  </div>
</script>

<script id="wait-page" type="text/x-jsrender">
  <div>
    <h4>Bitnami Diagnostic Tool</h4>
    <p class="bnsupport">Please wait until we obtain more info</p>
  </div>
</script>

<script id="bnsupport" type="text/x-jsrender">
  <div>
    <h4>Bitnami Support Tool ID <small>required</small></h4>
    <p class="bnsupport">The Bitnami Support Tool is a command line tool that collects logs and other relevant information and sends it to the Bitnami Support Team. It does not collect any credentials or passwords from your system. </p>
    <br/>
    <p class="bnsupport">To ensure we can quickly provide you with a resolution to your question, please run this tool in the affected environment. After running the tool, enter the resulting code in the box below. You can find more information <a href="https://docs.bitnami.com/general/components/bnsupport/" target="_blank">here</a>.</p>
    <textarea class="bnsupport" placeholder="12345678-abcd-1234-abcd-123456789abc" maxlength="36" data-link="bnsupportFilled"></textarea>
  </div>
</script>

<script id="issue" type="text/x-jsrender">
  <div>
    <h4>[[if typeSelected == 'Technical issue']]Description[[else typeSelected == 'How to']]Describe your question here[[else typeSelected == 'Bitnami Support Tool']]Describe the issues with the Bitnami Support Tool here[[else typeSelected == 'Suggestion']]Describe your suggestion here[[/if]]</h4>
    <textarea class="issue" placeholder="Include [[if typeSelected == 'Technical issue']]detailed steps to reproduce the issue[[else typeSelected == 'Bitnami Support Tool']]detailed information about the error you are getting[[else typeSelected == 'Suggestion']]your suggestion as detailed as possible[[else]]your question as detailed as possible[[/if]]" data-link="textareaFilled" required></textarea>
  </div>
  <div class="text-r padding-r-giant">
    <a href="https://guides.github.com/features/mastering-markdown/" target="_blank">Styling with Markdown is supported</a>
  </div>
</script>

<script id="chokePointSearch" type="text/x-jsrender">
  <div class="row collapse-b-tablet">
    <div class="col-12">
      <div class="search margin-t-small">
        <h3 class="margin-t-small">Suggested Articles </h3>
        <p class="margin-b-normal">Before continuing, please review if any of these articles answer your question</p>
        <div class="input-group">
          <input id="search" type="search" placeholder="Search" class="form-control margin-t-small" value="[[:adaptSearch(platformSelected, applicationSelected, topicSelected)]]"/>
          <div class="dropdown dropdown-right filters">
            <button class="button button-dropdown" aria-haspopup="true">All Bitnami sites</button>
            <ul class="dropdown__list remove-style elevation-1 slide-in margin-t-normal" aria-hidden="true" aria-label="submenu">
              <li class="search__filter" data-item="1"><a>FAQ</a></li>
              <li class="search__filter" data-item="2"><a>How-To Guides</a></li>
              <li class="search__filter" data-item="3"><a>Support Forums</a></li>
              <li class="search__filter" data-item="4"><a>Documentation</a></li>
            </ul>
          </div>
        </div>
        <div class="search__results padding-h-big"></div>
      </div>
    </div>
  </div>
  <div>
    <h4 class="margin-t-small">Have you found what you were looking for?</h4>
    [^[if typeSelected == 'Technical issue']]
      <button class="button button-action" onclick="goToPage3()">No</button>
    [[else]]
      <button class="button button-action" onclick="goToPage5()">No</button>
    [[/if]]
    <button class="button button-accent" onclick="cancel()">Yes</button>
    <div class="text-r padding-r-normal padding-t-normal" style="float: right">
      <a onclick="goToPage1()">Go back</a>
    </div>
  </div>
</script>

<script id="explanationCase" type="text/x-jsrender">
  <div class="row collapse-b-tablet">
    <div class="col-5 margin-h-big">
      <h3 class="margin-t-small margin-b-normal">Open a new topic</h3>
      [^[include tmpl="#type"/]]
      [^[include tmpl="#platform"/]]
      [^[include tmpl="#application"/]]
      [^[include tmpl="#topic"/]]
    </div>
    <div class="col-6 margin-h-big">
      [^[include tmpl="#title"/]]
      [^[include tmpl="#issue"/]]
      [^[if typeSelected == 'Technical issue' && !(platformSelected == 'Windows' || platformSelected == 'OS X' || platformSelected == 'Linux')]]
        [^[include tmpl="#bndiagnostic-feedback"/]]
      [[/if]]
      <div class="margin-t-small">
        <button class="button" onclick="cancel()">Cancel</button>
        <button class="button button-accent" onclick="create()">Create Topic</button>
        <div class="text-r padding-r-giant padding-t-normal" style="float: right">
          [^[if typeSelected != 'Technical issue']]
            <a onclick="goToPage2()">Go back</a>
          [[else]]
            <a onclick="goToPage3()">Go back</a>
          [[/if]]
          </div>
      </div>
    </div>
  </div>
</script>

<script id="bndiagnosticPage" type="text/x-jsrender">
  <div class="row collapse-b-tablet">
    <div class="col-5 margin-h-big">
      <h3 class="margin-t-small margin-b-normal">Review Bndiagnostic information</h3>
      [^[include tmpl="#type"/]]
      [^[include tmpl="#platform"/]]
      [^[include tmpl="#application"/]]
      [^[include tmpl="#topic"/]]
    </div>
    <div class="col-6 margin-h-big">
      [^[include tmpl="#bndiagnostic"/]]
      <div class="margin-t-small">
      <button class="button" onclick="cancel()">Cancel</button>
        <button class="button button-accent" onclick="goToPage5()" disabled="true">Next</button>
        <div class="text-r padding-r-giant padding-t-normal" style="float: right">
          <a onclick="goToPage3()">Go back</a>
        </div>
      </div>
    </div>
  </div>
</script>

<script id="bnsupportPage" type="text/x-jsrender">
  <div class="row collapse-b-tablet">
    <div class="col-5 margin-h-big">
      <h3 class="margin-t-small margin-b-normal">Add Bnsupport code</h3>
      [^[include tmpl="#type"/]]
      [^[include tmpl="#platform"/]]
      [^[include tmpl="#application"/]]
      [^[include tmpl="#topic"/]]
    </div>
    <div class="col-6 margin-h-big">
      [^[include tmpl="#bnsupport"/]]
      <div class="margin-t-small">
        <button class="button" onclick="cancel()">Cancel</button>
        <button class="button button-accent" onclick="validateBnsupport()">Next</button>
        <div class="text-r padding-r-giant padding-t-normal" style="float: right">
          <a onclick="goToPage2()">Go back</a>
        </div>
      </div>
    </div>
  </div>
</script>

<script id="mainTpl" type="text/x-jsrender">
  <div id="bitnamiContainer" onmouseover="document.documentElement.style.overflow='hidden';" onmouseout="document.documentElement.style.overflow='auto';" class="container padding-bigger padding-v-normal bg-iron elevation-2">
    <div class="row collapse-b-tablet">
      <div class="col-6 margin-h-big margin-t-enormous">
        <h3>Welcome to the Bitnami Community!</h3>
        <p class="margin-t-big">This is a community forum for topics related to the Bitnami Stacks, Virtual Machine or Cloud Images. Please open a new topic for any problems you face related to launching one of our images, accessing it, understanding how to get the login credentials, etc.</p>
        <p>For information regarding applications themselves, we highly recommend checking forums and user guides made available by the projects behind those applications.</p>
        <p>Bitnami’s support team actively participates in this forum Monday to Friday, 10am to 7pm UTC and will try to answer any question they receive within 24 hours.</p>
        <p>In order to promptly find an answer to your question, we will ask you to fill a small form to help us understand how we can best help you.</p>
        <p>We also recommend you to take a look at the rules of this community, that you can find <a href="https://community.bitnami.com/faq" target="_blank">here</a>.</p>
      </div>
      <div class="col-5 margin-h-big margin-t-enormous">
        [^[include tmpl="#type"/]]
        [^[if typeSelected]]
          [^[if typeSelected == 'How to' || typeSelected == 'Technical issue']]
            [^[include tmpl="#platform"/]]
            [^[if platformSelected && !(platformSelected == 'Containers' || platformSelected == 'Charts')]]
              [^[include tmpl="#application"/]]
              [^[if applicationSelected]]
                [[for applicationValues]]
                  [^[if ~root.applicationSelected == application]]
                    [^[include tmpl="#topic"/]]
                  [[/if]]
                [[/for]]
                [^[if applicationSelected == 'General']]
                  [^[include tmpl="#topic"/]]
                [[/if]]
              [[/if]]
            [[/if]]
          [[else typeSelected == 'Suggestion' || typeSelected == 'Bitnami Support Tool']]
            [^[include tmpl="#title"/]]
            [^[include tmpl="#issue"/]]
          [[/if]]
        [[/if]]
        [^[if ((typeSelected == 'How to' || typeSelected == 'Technical issue') && (platformSelected && !(platformSelected == 'Containers' || platformSelected == 'Charts')) && applicationSelected && topicSelected)]]
          <button class="button" onclick="cancel()">Cancel</button>
          <button class="button button-accent" onclick="goToPage2()">Next</button>
        [^[else typeSelected == 'Suggestion' || typeSelected == 'Bitnami Support Tool']]
          <button class="button" onclick="cancel()">Cancel</button>
          <button class="button button-accent" onclick="create()">Create topic</button>
        [^[else platformSelected == 'Containers']]
          <p>The Bitnami Community for container issues is located on GitHub. You can create a GitHub issue on the Issues section of the Bitnami container's repository.</p>
          <button class="button" onclick="cancel()">Cancel</button>
          <button class="button button-accent" onclick="window.open('https://github.com/bitnami/','_blank')">Go to Bitnami GitHub</button>
        [^[else platformSelected == 'Charts']]
          <p>The Bitnami Community for chart issues is located on GitHub. You can create a GitHub issue on the Issues section of the Bitnami Chart's repository.</p>
          <button class="button" onclick="cancel()">Cancel</button>
          <button class="button button-accent" onclick="window.open('https://github.com/bitnami/charts/issues','_blank')">Go to Bitnami Charts GitHub</button>
        [[else]]
            <button class="button" onclick="cancel()">Cancel</button>
        [[/if]]
      </div>
    </div>
  </div>
</script>
